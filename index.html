<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <!-- SEO: Brand-focused title -->
    <title>J R Transport | Trusted Transport & Logistics Company in India</title>

    <!-- SEO: Meta description -->
    <meta
      name="description"
      content="J R Transport is a reliable transport and logistics company in India, offering heavy cargo and over-dimensional transportation services since 2020."
    />

    <!-- SEO: Canonical URL -->
    <link rel="canonical" href="https://jrtransport.in/" />

    <!-- Open Graph / Social SEO -->
    <meta property="og:title" content="J R Transport | Trusted Transport & Logistics Company in India" />
    <meta
      property="og:description"
      content="J R Transport is a reliable transport and logistics company in India, specializing in heavy and over-dimensional cargo transportation."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://jrtransport.in/" />
    <meta property="og:image" content="https://jrtransport.in/favicon-512x512.png" />

    <!-- Viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

    <!-- External CSS -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />

    <!-- Prevent about: protocol errors and handle favicon loading -->
    <script>
      (function () {
        if (window.location.protocol === "about:") {
          window.location.replace("/");
        }

        document.addEventListener("DOMContentLoaded", function () {
          const favicon = document.querySelector(
            'link[rel="icon"][type="image/x-icon"]'
          );
          if (favicon) {
            favicon.onerror = function () {
              const canvas = document.createElement("canvas");
              canvas.width = 16;
              canvas.height = 16;
              const ctx = canvas.getContext("2d");
              ctx.fillStyle = "#FF0000";
              ctx.fillRect(0, 0, 16, 16);
              ctx.fillStyle = "#FFFFFF";
              ctx.font = "10px Arial";
              ctx.fillText("JR", 2, 12);

              const fallbackLink = document.createElement("link");
              fallbackLink.rel = "icon";
              fallbackLink.href = canvas.toDataURL();
              document.head.appendChild(fallbackLink);

              favicon.remove();
            };
          }
        });

        const originalAddEventListener = window.addEventListener;
        window.addEventListener = function (type, listener, options) {
          if (type === "error") {
            const wrappedListener = function (event) {
              if (
                (event.message && event.message.includes("about:")) ||
                (event.filename && event.filename.startsWith("about:")) ||
                (event.target &&
                  event.target.src &&
                  event.target.src.startsWith("about:"))
              ) {
                return;
              }
              return listener.apply(this, arguments);
            };
            return originalAddEventListener.call(
              this,
              type,
              wrappedListener,
              options
            );
          }
          return originalAddEventListener.apply(this, arguments);
        };
      })();
    </script>
  </head>

  <body>
    <div id="root"></div>

    <script type="module" src="/src/main.jsx"></script>

    <script>
      window.addEventListener(
        "load",
        function () {
          document.addEventListener(
            "error",
            function (e) {
              const target = e.target;
              if (target.src && target.src.startsWith("about:")) {
                e.preventDefault();
                e.stopPropagation();
                return false;
              }

              if (
                target.tagName === "IMG" ||
                target.tagName === "LINK" ||
                target.tagName === "SCRIPT"
              ) {
                console.warn(
                  "Resource failed to load (non-critical):",
                  target.src || target.href
                );
                e.preventDefault();
                e.stopPropagation();
              }
            },
            true
          );

          if (window.console && console.error) {
            const originalError = console.error;
            console.error = function () {
              const args = Array.from(arguments);
              const hasAboutError = args.some(
                (arg) => typeof arg === "string" && arg.includes("about:")
              );
              if (!hasAboutError) {
                originalError.apply(console, args);
              }
            };
          }
        },
        false
      );
    </script>

    <noscript>
      <div
        style="
          padding: 20px;
          text-align: center;
          background: #f8f9fa;
          color: #333;
        "
      >
        <h2>JavaScript Required</h2>
        <p>
          This website requires JavaScript to function properly. Please enable
          JavaScript in your browser settings.
        </p>
        <p>
          You can contact us at:
          <strong>jrtransportco@yahoo.com</strong>
        </p>
        <p>
          Or call: <strong>+91 97669 58932</strong>
        </p>
      </div>
    </noscript>
  </body>
</html>
